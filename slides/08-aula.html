<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Metodologias Informacionais com R</title>
    <meta charset="utf-8" />
    <meta name="author" content=" Telmo dos Santos Klipp (telmo.klipp@inpe.br) " />
    <script src="libs/header-attrs-2.25/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/ki-fonts.css" rel="stylesheet" />
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="my-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# <b>Metodologias Informacionais com R</b>
]
.subtitle[
## <br/>Modulo IV: PNAD Contínua do IBGE
]
.author[
### <br/><b>Telmo dos Santos Klipp</b> (<a href="mailto:telmo.klipp@inpe.br" class="email">telmo.klipp@inpe.br</a>)<br/>
]

---

layout: true

background-image: url(figures/template_middlepage_2.png)
background-size: cover



---
### .orange[&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"&gt;&lt;/path&gt;&lt;/svg&gt; Informações Gerais sobre o Curso]

- &lt;p class="jst"&gt;Materiais disponibilizados via &lt;A href="https://classroom.google.com/u/0/c/NjExMjg5MTU0OTY3"&gt;Classroom&lt;/A&gt;;&lt;/p&gt; 
- &lt;p class="jst"&gt;O aprendizado requer a prática que será constante nas aulas;&lt;/p&gt;

.pull-left[
Bibliografia Básica:

 .tiny2[- &lt;p class="jst"&gt;Kennedy, R., &amp; Waggoner, P. D. (2021). Introduction to r for social scientists: a tidy programming approach. CRC Press.&lt;/p&gt;

&lt;img src="figures/basicblibliograph.png" width="39%" style="display: block; margin: auto;" /&gt;
]
]

.pull-right[
Bibliografia Complementar:

 .tiny2[- &lt;p class="jst"&gt;Wickham, H., Çetinkaya-Rundel, M., &amp; Grolemund, G. (2023). R for data science (2e): import, tidy, transform, visualize, and model data. "O'Reilly Media, Inc.". Disponível em: &lt;A href="https://r4ds.hadley.nz/"&gt;https://r4ds.hadley.nz/&lt;/A&gt;. Acesso em: 14 de junho, 2023. (Online) &lt;/p&gt;
- &lt;p class="jst"&gt;Damiani, A. et. al., (2022). Ciência de Dados em R. Curso-R. Disponível em: &lt;A href="https://livro.curso-r.com"&gt;https://livro.curso-r.com&lt;/A&gt;. Acesso em: 12 de maio, 2023. (Online)&lt;/p&gt;
-  &lt;p class="jst"&gt;de Aquino, J. A. (2014). R para cientistas sociais. Editora da UESC (editus). Disponível em: &lt;A href="http://www.uesc.br/editora/index.php?item=conteudo_livros_digitais.php"&gt;http://www.uesc.br/editora/&lt;/A&gt;. Acesso em: 12 de maio, 2023. &lt;/p&gt;
-  &lt;p class="jst"&gt;de Oliveira, P. F., Guerra, S., McDonnell, R. (2018). Ciência de Dados com R: Introdução. Editora IBPAD. Disponível em: &lt;A href="https://cdr.ibpad.com.br/index.html"&gt;https://cdr.ibpad.com.br/index.html&lt;/A&gt;. Acesso em: 12 de maio, 2023. (Online) &lt;/p&gt; ] 
]

---
### .orange[&lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"&gt;&lt;/path&gt;&lt;/svg&gt;Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt;]

&lt;p class="jst"&gt;A &lt;A href="https://www.ibge.gov.br/estatisticas/sociais/trabalho/17270-pnad-continua.html?=&amp;t=o-que-e
"&gt;Pesquisa Nacional por Amostra de Domicílios Contínua (PNADC)&lt;/A&gt;  realizada pelo Instituto Brasileiro de Geografia e Estatística (IBGE) visa:&lt;/p&gt;

&gt; &lt;p class="jst"&gt;&lt;i&gt;"Acompanhar as flutuações trimestrais e a evolução, no curto, médio e longo prazos, da força de trabalho, e outras informações necessárias para o estudo do desenvolvimento socioeconômico do País."&lt;/i&gt; (IBGE)&lt;/b&gt; 

Algumas características da PNAD Contínua:

- &lt;p class="jst"&gt;As pesquisas possuem periodicidade mensal (dada por trimestre móvel), trimestral, anual e variável (feita com maior periodicidade ou ocasionalmente).&lt;/p&gt;
- &lt;p class="jst"&gt;As pesquisas apresentam uma amostragem complexa.&lt;/p&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt;]

&lt;p class="jst"&gt;Para trabalhar com os microdados da PNAD Contínua vamos fazer uso dos pacotes: &lt;/p&gt;

- &lt;A href="https://cran.r-project.org/web/packages/PNADcIBGE/index.html"&gt;.purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]&lt;/A&gt; - possibilita baixar dados da PNAD Contínua.
- &lt;A href="https://cran.r-project.org/web/packages/survey/index.html"&gt;.purple[&lt;b&gt;survey&lt;/b&gt;]&lt;/A&gt; - possibilita produzir diversas operações estatísticas em dados com amostragem complexa.
- &lt;A href="https://cran.r-project.org/web/packages/srvyr/index.html"&gt;.purple[&lt;b&gt;srvyr&lt;/b&gt;]&lt;/A&gt; - uma extensão do pacote .purple[&lt;b&gt;survey&lt;/b&gt;] que permite o uso de funções do .purple[&lt;b&gt;dplyr&lt;/b&gt;] e sua sintaxe.


Para o momento é suficiente a instalação de:


```r
  install.packages("PNADcIBGE") 
  install.packages("survey")
```

E carregar os referidos pacotes:


```r
  library(PNADcIBGE)
  library(survey)
```




---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt;Permite a importação e a análise de dados amostrais (microdados) da PNAD Contínua do IBGE. A importação ou carregamento de dados pode ser feita de duas formas:&lt;/p&gt;

- &lt;b&gt;Online&lt;/b&gt; - usando a função  .purple[get_pnadc()]
  - &lt;p class="jst"&gt;Observe &lt;b&gt;?get_pnadc&lt;/b&gt;&lt;/p&gt;
  - &lt;p class="jst"&gt;Na requisição dos microdados com .purple[get_pnadc()] são baixados arquivos de um servidor &lt;b&gt;FTP&lt;/b&gt; do IBGE. Estes são: o arquivo com os microdados e os arquivos com a documentação necessária ao processamento e leitura desses dados (&lt;i&gt;input&lt;/i&gt;, dicionários, indicadores de deflação).&lt;/p&gt; 
- &lt;b&gt;Offline&lt;/b&gt; - (dados previamente baixados) - usando a função  .purple[read_pnadc()]
  - &lt;p class="jst"&gt;Observe &lt;b&gt;?read_pnadc&lt;/b&gt;&lt;/p&gt;
  - &lt;p class="jst"&gt;Essa função permite ler diretamente o arquivo contendo os microdados, dado um arquivo de &lt;i&gt;input&lt;/i&gt; (um programa de leitura na linguagem SAS) fornecido pelo IBGE.&lt;/p&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

Existem divisões nos microdados da PNAD Contínua. Portanto, é possível baixá-los de quatro formas básicas:

- Dados trimestrais usando o parâmetro &lt;b&gt;quarter&lt;/b&gt; que permite baixar um trimestre (1 à 4) por vez.

```r
  dados_2022q1 &lt;- get_pnadc(year = 2022, quarter = 4)
```
- Dados anuais acumulados em determinada visita (entre a 1ª e 5ª cada vez) usando o parâmetro &lt;b&gt;interview&lt;/b&gt;.

```r
  dados_2022_interview_1 &lt;- get_pnadc(year = 2022, interview = 1)
```
- Dados anuais concentrados em determinado trimestre (entre o 1º e 4º cada vez) usando o parâmetro &lt;b&gt;topic&lt;/b&gt;.

```r
  dados_2022_anual_trimestre &lt;- get_pnadc(year=2022, topic=2)
```
- Dados de temas e tópicos suplementares (questionários específicos) aplicados a morador selecionado.

```r
  # Dados do módulo de Sensação de Segurança aplicado ao morador selecionado no 4º trimestre.
  dados_2022_anual_trimestre &lt;- get_pnadc(year=2022, topic=4, selected=TRUE)
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

Outros argumentos da função .purple[get_pnadc()] são:

- &lt;b&gt;vars&lt;/b&gt;: Permite carregar no R apenas variáveis específicas (obs: não funciona exatamente como o esperado).


```r
  # Obtendo as  variáveis:
  #  VD4001 - Condição em relação à força de trabalho
  #  VD4002 - Condição de ocupação
  dados_2022q1 &lt;- get_pnadc(year = 2022, quarter = 4, vars=c("VD4001","VD4002"))
```
- &lt;b&gt;labels&lt;/b&gt; (lógico `TRUE` ou `FALSE`): incluir ou não nomes categóricos nos valores de determinadas variáveis.

- &lt;b&gt;deflator&lt;/b&gt; (lógico `TRUE` ou `FALSE`): incluir ou não as variáveis que permitem aplicar deflacionamento.

- &lt;b&gt;design&lt;/b&gt; (lógico `TRUE` ou `FALSE`): retorna ou não os dados como objeto do tipo &lt;b&gt;`svyrep.design`&lt;/b&gt;.

- &lt;b&gt;defyear&lt;/b&gt; e &lt;b&gt;defperiod&lt;/b&gt;: Ano ou trimestre considerados nas variáveis de deflacionamento, respectivamente. Se &lt;b&gt;defyear&lt;/b&gt; ou &lt;b&gt;defperiod&lt;/b&gt; forem indicados como `NULL` e o &lt;b&gt;deflator&lt;/b&gt; como `TRUE`, serão considerado o ano mais recente, o ano ou o trimestre dos dados, conforme a alternativa de requisição de dados usada.

- &lt;b&gt;savedir&lt;/b&gt;: Diretório para salvar os microdados e a documentação necessária ao processamento e leitura.

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt;Vamos trabalhar com microdados do primeiro trimestre de 2023. Para baixar os dados de um trimestre do servidor do IBGE através do pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;], procedemos na forma:&lt;/p&gt;


```r
  pnadc_2023q1 &lt;- get_pnadc(year = 2023, quarter = 1)
```

&lt;p class="jst"&gt;Lembrando que como se trata de uma quantidade considerável de dados, podemos escolher carregar apenas variáveis específicas como a condição de ocupação (&lt;b&gt;VD4002&lt;/b&gt;):&lt;/p&gt;


```r
  desocupacao_2023q1 &lt;- get_pnadc(year = 2023, quarter = 1, vars = "VD4002")
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt;Conforme mencionado, é possível carregar dados da PNAD Contínua diretamente (&lt;i&gt;offline&lt;/i&gt;) com a função .purple[read_pnadc()], caso os dados já tenham sido baixados para o computador. Para isso basta informar o arquivo dos microdados (ex: PNADC_012023.txt) e o arquivo de &lt;i&gt;input&lt;/i&gt; (um programa de leitura em SAS).&lt;/p&gt;




```r
  # Lendo algumas variáveis
  pnadc_2023q1 &lt;- read_pnadc(microdata="PNADC20231/PNADC_012023.txt",
                             input_txt="PNADC20231/input_PNADC_trimestral.txt",
                             vars = c("Ano", "Trimestre", "UF", "Capital", 
                                      "V2009", "VD3005", "VD4002"))
  class(pnadc_2023q1)
```

&lt;p class="jst"&gt;Nesse caso, os dados serão retornados em um objeto do tipo &lt;b&gt;tibble&lt;/b&gt;, sendo necessário aplicar outras operações aos dados para obter &lt;i&gt;labels&lt;/i&gt; categóricos em determinadas variáveis, as variáveis de deflacionamento, bem como, transformar o objeto do tipo &lt;b&gt;tibble&lt;/b&gt; para &lt;b&gt;svyrep.design&lt;/b&gt;, caso seja de interesse obter estatísticas considerando o plano amostral com o pacote .purple[&lt;b&gt;survey&lt;/b&gt;]. Essas operações são possíveis através das funções .purple[pnadc_labeller()], .purple[pnadc_deflator()] e  .purple[pnadc_design()] ...&lt;/p&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt;... Dessa forma, para obter os &lt;i&gt;labels&lt;/i&gt; categóricos, as variáveis de deflacionamento e produzir um objeto do tipo &lt;b&gt;svyrep.design&lt;/b&gt; procedemos com:&lt;/p&gt;




```r
  # Atribuindo labels as variáveis categóricas
  pnadc_2023q1 &lt;- pnadc_labeller(
    data_pnadc=pnadc_2023q1,
    dictionary.file="PNADC20231/dicionario_PNADC_microdados_trimestral.xls"
  )
  # Carregando indicadores de deflação caso deseja-se obter variáveis de rendimento
  # em valor real.
  pnadc_2023q1 &lt;- pnadc_deflator(
    data_pnadc=pnadc_2023q1,
    deflator.file="PNADC20231/deflator_PNADC_2023_trimestral_040506.xls"
  )
  # Criação do plano amostral para obter estatísticas coerentes com pacote 'survey'
  pnadc_2023q1 &lt;- pnadc_design(data_pnadc=pnadc_2023q1)
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt;Os arquivos de microdados e auxiliares (input, dicionários, indicadores de deflação) usados para aplicar as operações anteriores são fornecidos pelo IBGE.&lt;/p&gt;

&lt;p class="jst"&gt;Esses arquivos podem ser obtidos no &lt;A href="https://www.ibge.gov.br/estatisticas/sociais/trabalho/17270-pnad-continua.html?=&amp;t=downloads"&gt;.purple[site]&lt;/A&gt; ou em servidor &lt;b&gt;ftp&lt;/b&gt; do IBGE (&lt;A href="https://ftp.ibge.gov.br"&gt;.purple[https://ftp.ibge.gov.br]&lt;/A&gt;).&lt;/p&gt;

&lt;p class="jst"&gt;No entanto, é muito mais comodo obtê-los fazendo uma requisição com a função .purple[get_pnadc()]. Nesse caso, não é necessário procurar os dados desejados na hierarquia de pastas do referido site ou do servidor &lt;b&gt;ftp&lt;/b&gt;.&lt;/p&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt;Após as operações realizadas, nosso objeto passa a ser do tipo &lt;b&gt;svyrep.design&lt;/b&gt;:&lt;/p&gt;


```r
  class(pnadc_2023q1)
```

```
## [1] "svyrep.design"
```

Esse objeto é uma lista cujos elementos são:


```r
  names(pnadc_2023q1)
```

```
##  [1] "type"             "scale"            "rscales"          "rho"             
##  [5] "call"             "combined.weights" "variables"        "pweights"        
##  [9] "repweights"       "degf"             "mse"
```

No item "variables" está o objeto &lt;b&gt;tibble&lt;/b&gt; com os microdados. Os nomes das variáveis disponíveis podem ser obtidos com:


```r
  names(pnadc_2023q1$variables)
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt;Relembrando:&lt;/p&gt;

- A função  .purple[get_pnadc()] permite:
  - &lt;p class="jst"&gt;Baixar os dados de servidor &lt;b&gt;FTP&lt;/b&gt;.&lt;/p&gt;
  - &lt;p class="jst"&gt;Inclui por padrão &lt;i&gt;labels&lt;/i&gt; categóricos, variáveis de deflacionamento e plano amostral. A não inclusão requer o uso de parâmetros específicos da função.&lt;/p&gt; 
- A função  .purple[read_pnadc()] permite:
  - &lt;p class="jst"&gt;Ler os microdados, requerendo arquivos específicos.&lt;/p&gt;
  - &lt;p class="jst"&gt;A inclusão de &lt;i&gt;labels&lt;/i&gt; categóricos, variáveis de deflacionamento e plano amostral requer o uso de funções auxiliares.&lt;/p&gt;


---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;]]

&lt;p class="jst"&gt; O plano amostral obtido com o objeto do tipo &lt;b&gt;svyrep.design&lt;/b&gt; é necessário para obter estatísticas coerentes e métricas sobre essas estatísticas como intervalos de confiança e margem de erro. Para maiores informações, veja as seguintes vídeo-aulas sobre microdados:&lt;/p&gt;

- &lt;A href="https://youtu.be/k3rLK8V_38s"&gt;.purple[Vídeo 1 - teórico]&lt;/A&gt;

- &lt;A href="https://www.youtube.com/watch?v=qC22jz0FA0U"&gt;.purple[Vídeo 2 - sobre PNADC]&lt;/A&gt;

- &lt;A href="https://www.youtube.com/watch?v=hhNA8MR__aA"&gt;.purple[Vídeo 3 - sobre Pesquisa de Orçamentos Familiares (POF)]&lt;/A&gt;

&lt;p class="jst"&gt; O plano amostral da PNAD Contínua considera dois estágios de seleção com &lt;b&gt;estratificação&lt;/b&gt; das unidades primárias de amostragem (UPAs). Não obstante, para produzir estatísticas coerentes sobre os dados, temos algumas opções:&lt;/p&gt;

- &lt;p class="jst"&gt;Usar o pacote .purple[&lt;b&gt;survey&lt;/b&gt;], porém, seu objeto do tipo lista não permitirá operações usando o .purple[&lt;b&gt;dplyr&lt;/b&gt;], devendo-se usar outras opções para manipulação de dados.&lt;/p&gt;
- &lt;p class="jst"&gt;Considerar as devidas métricas do plano amostral como, por exemplo, aplicar manualmente os devidos pesos da estratificação em funções pertinentes para gerar as estatíticas desejadas.&lt;/p&gt;
- &lt;p class="jst"&gt;Usar de forma combinada o pacote .purple[&lt;b&gt;survey&lt;/b&gt;] e .purple[&lt;b&gt;srvyr&lt;/b&gt;] o que permitirá o uso de funções do .purple[&lt;b&gt;dplyr&lt;/b&gt;] e consequente flexibilidade nas manipulações de dados.&lt;/p&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;survey&lt;/b&gt;]]

&lt;p class="jst"&gt;O objeto &lt;b&gt;svyrep.design&lt;/b&gt; permite produzir estatísticas através de funções do pacote .purple[&lt;b&gt;survey&lt;/b&gt;]. Vejamos:&lt;/p&gt;

Qual a taxa de Ocupados/Desocupados em nível nacional?


```r
  svymean(~VD4002, pnadc_2023q1, na.rm=T)
```

```
##                             mean SE
## VD4002Pessoas ocupadas    0,9121  0
## VD4002Pessoas desocupadas 0,0879  0
```

Como gerar intervalos de confiança da proporção de Ocupados/Desocupados?


```r
  confint(svymean(~VD4002, pnadc_2023q1, na.rm=T), level=.99)
```

```
##                            0,5 %  99,5 %
## VD4002Pessoas ocupadas    0,9094 0,91470
## VD4002Pessoas desocupadas 0,0853 0,09057
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;survey&lt;/b&gt;]]

Qual a taxa de Ocupados/Desocupados no Rio Grande do Sul?


```r
  svymean(~VD4002, subset(pnadc_2023q1, UF=='Rio Grande do Sul'), na.rm=T)
```

```
##                             mean SE
## VD4002Pessoas ocupadas    0,9462  0
## VD4002Pessoas desocupadas 0,0538  0
```

Como gerar intervalos de confiança da proporção de Ocupados/Desocupados?


```r
  confint(svymean(~VD4002, subset(pnadc_2023q1, UF=='Rio Grande do Sul'), na.rm=T), level=.99)
```

```
##                             0,5 %  99,5 %
## VD4002Pessoas ocupadas    0,93923 0,95322
## VD4002Pessoas desocupadas 0,04678 0,06077
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;survey&lt;/b&gt;]]

Qual o total de Ocupados/Desocupados no Rio Grande do Sul?


```r
  svytotal(~VD4002, subset(pnadc_2023q1, UF=='Rio Grande do Sul'), na.rm=T)
```

```
##                             total    SE
## VD4002Pessoas ocupadas    5925147 50197
## VD4002Pessoas desocupadas  336727 16845
```

Como gerar intervalos de confiança do total de Ocupados/Desocupados?


```r
  confint(svytotal(~VD4002, subset(pnadc_2023q1, UF=='Rio Grande do Sul'), na.rm=T), level=.99)
```

```
##                             0,5 %  99,5 %
## VD4002Pessoas ocupadas    5795849 6054444
## VD4002Pessoas desocupadas  293338  380115
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;survey&lt;/b&gt;]]

&lt;p class="jst"&gt;A variável &lt;b&gt;V2009&lt;/b&gt; refere-se a idade dos entrevistados, enquanto &lt;b&gt;VD3005&lt;/b&gt; refere-se a quantidade de anos de estudo. Portanto, qual é a média de anos de estudos da população de 25 anos ou mais de idade no Rio Grande do Sul?&lt;/p&gt;


```r
  svymean(~as.numeric(gsub("\\D", "", VD3005)), 
          subset(pnadc_2023q1, V2009 &gt;= 25, UF=='Rio Grande do Sul'), na.rm = T)
```

```
##                                       mean   SE
## as.numeric(gsub("\\\\D", "", VD3005)) 9,97 0,02
```


```r
  confint(svymean(~as.numeric(gsub("\\D", "", VD3005)),
                  subset(pnadc_2023q1, V2009 &gt;= 25, UF=='Rio Grande do Sul'), na.rm = T),
          level=.99)
```

```
##                                       0,5 % 99,5 %
## as.numeric(gsub("\\\\D", "", VD3005)) 9,913  10,04
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;survey&lt;/b&gt;]]

 Qual é a média de anos de estudos da população de 25 anos ou mais de idade na capital Porto Alegre?
 

```r
  svymean(~as.numeric(gsub("\\D", "", VD3005)),
          subset(pnadc_2023q1,
                 V2009 &gt;= 25 &amp; Capital=="Município de Porto Alegre (RS)"), na.rm = T)
```

```
##                                       mean   SE
## as.numeric(gsub("\\\\D", "", VD3005))   12 0,22
```


```r
  confint(svymean(~as.numeric(gsub("\\D", "", VD3005)), 
                  subset(pnadc_2023q1,
                         V2009 &gt;= 25 &amp; Capital=="Município de Porto Alegre (RS)"), na.rm = T),
          level=.99)
```

```
##                                       0,5 % 99,5 %
## as.numeric(gsub("\\\\D", "", VD3005)) 11,47  12,59
```
 
---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]

Nos próximos exemplos trabalharemos com os seguintes dados:


```r
  pnadc2023_1trim &lt;- get_pnadc(2023, quarter = 1, design = FALSE, labels = T, 
                             vars = c("Ano","Trimestre","UF", "RM_RIDE", "Capital","UPA",
                                      "Estrato","V1028", "V2007","V2009","V2010","V3007",
                                      "VD3004", "VD3005","VD4001", "VD4002","VD4005"
                                      "Habitual", "Efetivo"))
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]

Para carregar diretamente:




```r
  pnadc2023_1trim &lt;- read_pnadc(microdata="PNADC20231/PNADC_012023.txt",
                             input_txt="PNADC20231/input_PNADC_trimestral.txt",
                             vars = c("Ano","Trimestre","UF", "RM_RIDE", "Capital","UPA",
                                      "Estrato","V1028", "V2007","V2009","V2010","V3007",
                                      "VD3004", "VD3005","VD4001", "VD4002","VD4005",
                                      "VD4019","VD4020","VD4035"))
  pnadc2023_1trim &lt;- pnadc_labeller(
    data_pnadc=pnadc2023_1trim,
    dictionary.file="PNADC20231/dicionario_PNADC_microdados_trimestral.xls"
  )
  pnadc2023_1trim &lt;- pnadc_deflator(
    data_pnadc=pnadc2023_1trim,
    deflator.file="PNADC20231/deflator_PNADC_2023_trimestral_040506.xls"
  )
```


```r
  library(tidyverse)
  library(kableExtra)
  library(patchwork)
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]


```r
  rendimento_mensal_estados &lt;- pnadc2023_1trim |&gt;
    mutate(anos_de_estudo = as.numeric(gsub("\\D", "", VD3005))) |&gt;
    summarise("rendimento_medio" = weighted.mean(VD4020, w = V1028, na.rm = TRUE),
              "anos_de_estudo" = weighted.mean(anos_de_estudo, w = V1028, na.rm = TRUE),
              .by = "UF") |&gt;
    drop_na() |&gt;
    arrange(desc(rendimento_medio))
  rendimento_mensal_estados |&gt; kable() |&gt; 
    kable_styling(bootstrap_options = c('striped', 'condensed')) |&gt;
    scroll_box(width = "1050px", height = "250px")
```

&lt;div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:1050px; "&gt;&lt;table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"&gt; UF &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; rendimento_medio &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; anos_de_estudo &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Distrito Federal &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5347 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,782 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; São Paulo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3788 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,004 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rio de Janeiro &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3773 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,227 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mato Grosso do Sul &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3493 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,312 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Santa Catarina &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3481 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,412 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rio Grande do Sul &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3454 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,476 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Paraná &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3339 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,314 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mato Grosso &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3240 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,049 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Espírito Santo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3167 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,185 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Goiás &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3080 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,282 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Minas Gerais &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2889 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,092 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Roraima &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2741 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,304 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rondônia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2625 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,618 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tocantins &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2569 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,912 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Amapá &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2564 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,295 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Piauí &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2473 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,171 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Acre &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2424 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,299 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Sergipe &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2272 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,262 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Amazonas &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2265 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,949 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rio Grande do Norte &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2264 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,528 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pará &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2247 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,418 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pernambuco &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2237 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,530 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Alagoas &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2177 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,048 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Paraíba &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2171 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,009 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ceará &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2056 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,436 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Bahia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1949 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,207 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Maranhão &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1878 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8,060 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;/div&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]

.pull-left[
&lt;p class="jst"&gt;Rendimento médio mensal e anos de estudo por estados.&lt;/p&gt;


```r
  dt &lt;- rendimento_mensal_estados |&gt;
    mutate(
      UF=fct_reorder(UF,
                          rendimento_medio)
    )
   p &lt;- ggplot(dt) + theme_classic()
   p1 &lt;- p + geom_col(aes(rendimento_medio,
                          UF))
   p2 &lt;- p + geom_col(aes(anos_de_estudo,
                          UF)) +
     theme(axis.text.y = element_blank(),
           axis.title.y = element_blank())
   p1 + p2
```
]

.pull-right[
![](08-aula_files/figure-html/p1a_out-1.png)&lt;!-- --&gt;
]

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]

.pull-left[
&lt;p class="jst"&gt;Rendimento médio mensal por anos de estudo em nível estadual.&lt;/p&gt;

```r
  rendimento_mensal_estados |&gt; 
    ggplot(aes(anos_de_estudo,
               rendimento_medio)) +
    geom_point() + theme_classic()
```
]

.pull-right[
![](08-aula_files/figure-html/p1b_out-1.png)&lt;!-- --&gt;
]

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]


```r
  rendimento_mensal_capitais &lt;- pnadc2023_1trim |&gt;
    mutate(anos_de_estudo = as.numeric(gsub("\\D", "", VD3005))) |&gt;
    summarise("rendimento_medio" = weighted.mean(VD4020, w = V1028, na.rm = TRUE),
              "anos_de_estudo" = weighted.mean(anos_de_estudo, w = V1028, na.rm = TRUE),
              .by = "Capital") |&gt;
    tidyr::drop_na() |&gt;
    arrange(desc(rendimento_medio))
  rendimento_mensal_capitais |&gt; kable() |&gt; 
    kable_styling(bootstrap_options = c('striped', 'condensed')) |&gt;
    scroll_box(width = "1050px", height = "250px")
```

&lt;div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:1050px; "&gt;&lt;table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"&gt; Capital &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; rendimento_medio &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; anos_de_estudo &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Florianópolis (SC) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5723 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11,740 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Vitória (ES) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5391 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11,479 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de São Paulo (SP) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5353 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,732 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Brasília (DF) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5347 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,782 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Porto Alegre (RS) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5344 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,918 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Rio de Janeiro (RJ) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5268 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11,367 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Curitiba (PR) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4835 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11,116 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Belo Horizonte (MG) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4643 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 11,024 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Goiânia (GO) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4419 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,745 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Campo Grande (MS) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4119 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,340 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Aracaju (SE) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3865 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,408 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Palmas (TO) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3665 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,749 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de João Pessoa (PB) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3658 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,147 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Teresina (PI) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3597 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,296 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Cuiabá (MT) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3364 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,222 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Belém (PA) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3348 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,365 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Recife (PE) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3142 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,963 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Salvador (BA) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3140 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,318 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Fortaleza (CE) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3103 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,846 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Natal (RN) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3061 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,061 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Macapá (AP) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2972 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,906 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Boa Vista (RR) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2928 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,825 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Rio Branco (AC) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2783 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,237 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Maceió (AL) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2781 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,332 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Manaus (AM) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2688 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,901 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de São Luís (MA) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2688 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10,557 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Município de Porto Velho (RO) &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2615 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 9,329 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;/div&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]

.pull-left[
&lt;p class="jst"&gt;Rendimento médio mensal e anos de estudo nas capitais.&lt;/p&gt;

```r
  dt &lt;- rendimento_mensal_capitais |&gt;
    mutate(
      Capital=fct_reorder(Capital,
                          rendimento_medio)
    )
   p &lt;- ggplot(dt) + theme_classic()
   p1 &lt;- p + geom_col(aes(rendimento_medio,
                          Capital))
   p2 &lt;- p + geom_col(aes(anos_de_estudo,
                          Capital)) +
     theme(axis.text.y = element_blank(),
           axis.title.y = element_blank())
   p1 + p2 
```
]

.pull-right[
![](08-aula_files/figure-html/p2a_out-1.png)&lt;!-- --&gt;
]

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas manualmente]

.pull-left[
&lt;p class="jst"&gt;Rendimento médio mensal por anos de estudo considerando as capitais.&lt;/p&gt;

```r
  rendimento_mensal_capitais |&gt; 
    ggplot(aes(anos_de_estudo,
               rendimento_medio)) +
    geom_point() + theme_classic()
```
]

.pull-right[
![](08-aula_files/figure-html/p2b_out-1.png)&lt;!-- --&gt;
]

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;srvyr&lt;/b&gt;]]

Vamos usar de forma combinada .purple[&lt;b&gt;survey&lt;/b&gt;] e .purple[&lt;b&gt;srvyr&lt;/b&gt;]. Antes, necessitamos instalar e carregar o pacote .purple[&lt;b&gt;srvyr&lt;/b&gt;]:


```r
  install.packages("srvyr")
```


```r
  library(srvyr)
```

Agora aplicaremos o plano amostral nos nossos dados:


```r
  pnadc2023_1trim &lt;- pnadc_design(data_pnadc=pnadc2023_1trim)
  class(pnadc2023_1trim)
```

```
## [1] "svyrep.design"
```

E tranformaremos novamente o objeto, conforme:


```r
  pnadc2023_1trim &lt;- srvyr::as_survey(pnadc2023_1trim)
  class(pnadc2023_1trim)
```

```
## [1] "tbl_svy"       "svyrep.design"
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;srvyr&lt;/b&gt;]]

Esse objeto continua sendo uma lista cujos elementos são:


```r
  names(pnadc2023_1trim)
```

```
##  [1] "type"             "scale"            "rscales"          "rho"             
##  [5] "call"             "combined.weights" "variables"        "pweights"        
##  [9] "repweights"       "degf"             "mse"
```

No item "variables" está o objeto &lt;b&gt;tibble&lt;/b&gt; com os microdados, as variáveis disponíveis são:


```r
  names(pnadc2023_1trim$variables)
```

Observe que é possível usar funções do pacote .purple[&lt;b&gt;dplyr&lt;/b&gt;] no novo objeto:


```r
  glimpse(pnadc2023_1trim)
```

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;srvyr&lt;/b&gt;]]


```r
rendimento_mensal_estados &lt;- pnadc2023_1trim |&gt;
  group_by(UF) |&gt;
  summarise(rendimento_medio = survey_mean(VD4020, na.rm = T, vartype = "ci"))
rendimento_mensal_estados |&gt; kable() |&gt; 
  kable_styling(bootstrap_options = c('striped', 'condensed')) |&gt;
  scroll_box(width = "1050px", height = "250px")
```

&lt;div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:1050px; "&gt;&lt;table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"&gt; UF &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; rendimento_medio &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; rendimento_medio_low &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; rendimento_medio_upp &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rondônia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2625 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2459 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2792 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Acre &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2424 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2202 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2646 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Amazonas &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2265 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2069 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2462 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Roraima &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2741 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2373 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3108 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pará &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2247 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1998 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2495 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Amapá &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2564 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2255 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2873 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tocantins &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2569 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2374 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2765 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Maranhão &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1878 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1746 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2010 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Piauí &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2473 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1887 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3059 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Ceará &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2056 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1836 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2276 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rio Grande do Norte &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2264 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1994 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2534 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Paraíba &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2171 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1889 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2452 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Pernambuco &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2237 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2043 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2430 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Alagoas &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2177 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1996 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2358 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Sergipe &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2272 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1903 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2641 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Bahia &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1949 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1793 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2106 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Minas Gerais &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2889 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2724 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3054 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Espírito Santo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3167 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2913 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3420 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rio de Janeiro &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3773 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3560 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3987 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; São Paulo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3788 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3572 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4004 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Paraná &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3339 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3200 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3479 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Santa Catarina &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3481 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3369 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3594 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Rio Grande do Sul &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3454 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3302 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3605 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mato Grosso do Sul &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3493 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3202 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3784 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mato Grosso &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3240 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3062 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3417 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Goiás &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3080 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2863 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3297 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Distrito Federal &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5347 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4665 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6028 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;/div&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;srvyr&lt;/b&gt;]]

.pull-left[
&lt;p class="jst"&gt;Rendimento médio mensal por estados.&lt;/p&gt;

```r
  rendimento_mensal_estados |&gt; 
    ggplot(aes(UF, rendimento_medio)) +
    geom_point() +
    geom_errorbar(
      aes(ymin = rendimento_medio_low,
          ymax = rendimento_medio_upp),
      width = 0.2) +
    theme_classic() +
    theme(
      axis.text.x = element_text(angle = 90)
    )
```
]

.pull-right[
![](08-aula_files/figure-html/p3a_out-1.png)&lt;!-- --&gt;
]

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;srvyr&lt;/b&gt;]]



```r
  proporcao_nivel_estudo &lt;- pnadc2023_1trim |&gt;
    group_by(V2007, VD3004) |&gt;
    summarise(frequencia = survey_mean())
  proporcao_nivel_estudo |&gt; kable() |&gt; 
    kable_styling(bootstrap_options = c('striped', 'condensed')) |&gt;
    scroll_box(width = "1050px", height = "250px")
```

&lt;div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:250px; overflow-x: scroll; width:1050px; "&gt;&lt;table class="table table-striped table-condensed" style="margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"&gt; V2007 &lt;/th&gt;
   &lt;th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"&gt; VD3004 &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; frequencia &lt;/th&gt;
   &lt;th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"&gt; frequencia_se &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sem instrução e menos de 1 ano de estudo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0723 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Fundamental incompleto ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,3104 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0015 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Fundamental completo ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0715 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Médio incompleto ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0704 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Médio completo ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,2481 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0014 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Superior incompleto ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0418 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Superior completo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,1146 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0016 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Homem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0709 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0000 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Sem instrução e menos de 1 ano de estudo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0687 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Fundamental incompleto ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,2860 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0013 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Fundamental completo ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0669 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0007 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Médio incompleto ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0653 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0008 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Médio completo ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,2539 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0014 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Superior incompleto ou equivalente &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0440 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0006 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Superior completo &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,1506 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0017 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Mulher &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0647 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0,0000 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;&lt;/div&gt;

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;srvyr&lt;/b&gt;]]

.pull-left[
&lt;p class="jst"&gt;Proporção da população, estre os entrevistados, em cada nível de estudo.&lt;/p&gt;

```r
  proporcao_nivel_estudo |&gt; 
    mutate(
      nivel_de_estudo = fct_reorder(
        VD3004, frequencia
      )
    ) |&gt;
    drop_na() |&gt;
    ggplot(aes(frequencia,
               nivel_de_estudo)) +
    geom_col() +
    facet_wrap(~V2007, nrow = 2) +
    theme_classic()
```
]

.pull-right[
![](08-aula_files/figure-html/p4_out-1.png)&lt;!-- --&gt;
]

---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt; - estatísticas com .purple[&lt;b&gt;srvyr&lt;/b&gt;]]

&lt;b&gt;Exercício:&lt;/b&gt;

Gere o rendimento médio mensal por estado e segundo a variável &lt;b&gt;V2007&lt;/b&gt; usando o pacote .purple[&lt;b&gt;srvyr&lt;/b&gt;]. Faça isso considerando operações do .purple[&lt;b&gt;dplyr&lt;/b&gt;].



---
### .orange[Microdados da PNAD Contínua &lt;svg viewBox="0 0 512 512" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;path d="M32,32V464a16,16,0,0,0,16,16H480" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/path&gt;  &lt;rect x="96" y="224" width="80" height="192" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="240" y="176" width="80" height="240" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;  &lt;rect x="383.64" y="112" width="80" height="304" rx="20" ry="20" style="fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px"&gt;&lt;/rect&gt;&lt;/svg&gt;]

&lt;p class="jst"&gt;Há uma diversidade de bons materiais que orientam o uso dos microdados da PNAD Contínua através do R: &lt;/p&gt;

- &lt;p class="jst"&gt;Material &lt;A href="https://rpubs.com/gabriel-assuncao-ibge/pnadc"&gt;.purple[online]&lt;/A&gt; desenvolvido por um dos criadores do pacote .purple[&lt;b&gt;PNADcIBGE&lt;/b&gt;].

- &lt;p class="jst"&gt; Livro  &lt;A href="https://repositorio.ufrn.br/bitstream/123456789/48507/1/PorDentrodaPNADContinua_Trov%C3%A3o_SilvaJ%C3%BAnior_2022.pdf"&gt;.purple["POR DENTRO DA PNAD CONTÍNUA: Uma introdução ao tratamento de dados usando o R"]&lt;/A&gt;.
- &lt;p class="jst"&gt;Curso de R disponível no repositório do Git Hub: &lt;A href="https://github.com/leobarone/cebrap_lab_cetic_programacao_r/tree/master"&gt;.purple[Introdução à Programação em R]&lt;/b&gt;&lt;/A&gt;. 
- &lt;p class="jst"&gt;Material &lt;A href="https://rpubs.com/amrofi/microdados_pnadc_srvyr/"&gt;.purple[online]&lt;/A&gt;.

---
exclude: TRUE
class: left, top

### .orange[Referências]



.small[
&lt;p&gt;&lt;cite&gt;Wickham, H., M. Çetinkaya-Rundel, and G. Grolemund
(2023).
&lt;em&gt;R for data science (2e): import, tidy, transform, visualize, and model data&lt;/em&gt;.
Disponível em: &lt;a href="https://r4ds.hadley.nz/"&gt;https://r4ds.hadley.nz/&lt;/a&gt;, Acesso em: 14 de junho de 2023.
O'Reilly Media, Inc.&lt;/cite&gt;&lt;/p&gt;
&lt;p&gt;&lt;cite&gt;Becker, E.
(2023).
&lt;em&gt;R for Social Scientists.&lt;/em&gt;
Data Carpentry.
Disponível em: &lt;a href="https://datacarpentry.org/r-socialsci/index.html"&gt;https://datacarpentry.org/r-socialsci/index.html&lt;/a&gt;, Acesso em: 14 de junho de 2023.&lt;/cite&gt;&lt;/p&gt;
]

---
class: center, middle

background-image: url(figures/template_endpage_2.png)
background-size: contain

.center[.large[&lt;b&gt; Metotologias Informacionais com &lt;svg role="img" viewBox="0 0 24 24" style="position:relative;display:inline-block;top:.1em;height:2em;" xmlns="http://www.w3.org/2000/svg"&gt;  &lt;title&gt;&lt;/title&gt;  &lt;path d="M12 2.746c-6.627 0-12 3.599-12 8.037 0 3.897 4.144 7.144 9.64 7.88V16.26c-2.924-.915-4.925-2.755-4.925-4.877 0-3.035 4.084-5.494 9.12-5.494 5.038 0 8.757 1.683 8.757 5.494 0 1.976-.999 3.379-2.662 4.272.09.066.174.128.258.216.169.149.25.363.372.544 2.128-1.45 3.44-3.437 3.44-5.631 0-4.44-5.373-8.038-12-8.038zm-2.111 4.99v13.516l4.093-.002-.002-5.291h1.1c.225 0 .321.066.549.25.272.22.715.982.715.982l2.164 4.063 4.627-.002-2.864-4.826s-.086-.193-.265-.383a2.22 2.22 0 00-.582-.416c-.422-.214-1.149-.434-1.149-.434s3.578-.264 3.578-3.826c0-3.562-3.744-3.63-3.744-3.63zm4.127 2.93l2.478.002s1.149-.062 1.149 1.127c0 1.165-1.149 1.17-1.149 1.17h-2.478zm1.754 6.119c-.494.049-1.012.079-1.54.088v1.807a16.622 16.622 0 002.37-.473l-.471-.891s-.108-.183-.248-.394c-.039-.054-.08-.098-.111-.137z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/b&gt; ]]

.xxlarge[&lt;b style="color:MidnightBlue "&gt; Muito Obrigado pela Atenção!&lt;/b&gt;]
  
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"slideClass": ["left", "top"],
"slideNumberFormat": "%current%",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
